
**–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã**¬†‚Äî —ç—Ç–æ –æ—Å–æ–±—ã–π —Ç–∏–ø —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç¬†**–ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ**¬†–∏¬†**–≤–æ–∑–æ–±–Ω–æ–≤–ª—è—Ç—å –µ–≥–æ –ø–æ–∑–∂–µ**, –≤–æ–∑–≤—Ä–∞—â–∞—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã. –û–Ω–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞–º–∏, –ª–µ–Ω–∏–≤—ã–º–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è–º–∏ –∏ –¥–∞–∂–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –∫–æ–¥–æ–º.

---

## üîπ¬†**–ß–µ–º –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –æ—Ç –æ–±—ã—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π?**

|–û–±—ã—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏|–§—É–Ω–∫—Ü–∏–∏-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã|
|---|---|
|–í—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –¥–æ –∫–æ–Ω—Ü–∞ (`return`).|–ú–æ–≥—É—Ç¬†**–ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è**¬†(`yield`).|
|–í–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ.|–ú–æ–≥—É—Ç¬†**–≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏–π**¬†–ø–æ –º–µ—Ä–µ —Ä–∞–±–æ—Ç—ã.|
|–ù–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É –≤—ã–∑–æ–≤–∞–º–∏.|**–°–æ—Ö—Ä–∞–Ω—è—é—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç**¬†–º–µ–∂–¥—É¬†`yield`.|

---

## üîπ¬†**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤**

### 1Ô∏è‚É£¬†**–ò—Ç–µ—Ä–∞—Ç–æ—Ä "–∏–∑ –∫–æ—Ä–æ–±–∫–∏"**

–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–∞–ª–∏–∑—É–µ—Ç¬†**–ø—Ä–æ—Ç–æ–∫–æ–ª –∏—Ç–µ—Ä–∏—Ä—É–µ–º–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞**¬†(`Symbol.iterator`), –ø–æ—ç—Ç–æ–º—É:

- –†–∞–±–æ—Ç–∞–µ—Ç —Å¬†`for...of`.
    
- –ú–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –≤¬†`spread`¬†(`[...gen()]`).
    
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—é.
    

**–ü—Ä–∏–º–µ—Ä:**

```js 
function* numberGen() {
  yield 1;
  yield 2;
  yield 3;
}

// for-of
for (const num of numberGen()) {
  console.log(num); // 1, 2, 3
}

// spread
const nums = [...numberGen()]; // [1, 2, 3]
```

### 2Ô∏è‚É£¬†**–õ–µ–Ω–∏–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è (Lazy Evaluation)**

–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –≤—ã—á–∏—Å–ª—è—é—Ç –∑–Ω–∞—á–µ–Ω–∏—è¬†**—Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –æ–Ω–∏ –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç—Å—è**, —á—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è:

- –û–±—Ä–∞–±–æ—Ç–∫–∏ –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö (–±–µ–∑ –∑–∞–≥—Ä—É–∑–∫–∏ –≤ –ø–∞–º—è—Ç—å).
    
- –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π.
    
- –°–ª–æ–∂–Ω—ã—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ —Å –ø–∞—É–∑–∞–º–∏.
    

**–ü—Ä–∏–º–µ—Ä:**¬†–ë–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —á–∏—Å–µ–ª –§–∏–±–æ–Ω–∞—á—á–∏

```js
function* fibonacci() {
  let [a, b] = [0, 1];
  while (true) {
    yield a;
    [a, b] = [b, a + b];
  }
}

const fib = fibonacci();
console.log(fib.next().value); // 0
console.log(fib.next().value); // 1
console.log(fib.next().value); // 1
console.log(fib.next().value); // 2
// –ú–æ–∂–Ω–æ –ø–æ–ª—É—á–∞—Ç—å —á–∏—Å–ª–∞ –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é!
```

### 3Ô∏è‚É£¬†**–î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö**

–ß–µ—Ä–µ–∑¬†`yield`¬†–º–æ–∂–Ω–æ –Ω–µ —Ç–æ–ª—å–∫–æ¬†**–≤–æ–∑–≤—Ä–∞—â–∞—Ç—å**¬†–∑–Ω–∞—á–µ–Ω–∏—è, –Ω–æ –∏¬†**–ø–æ–ª—É—á–∞—Ç—å**¬†–∏—Ö –∏–∑–≤–Ω–µ —Å –ø–æ–º–æ—â—å—é¬†`next(value)`.

**–ü—Ä–∏–º–µ—Ä:**¬†–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å –≤—Ö–æ–¥–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

```js
function* chatBot() {
  const name = yield "–ö–∞–∫ –≤–∞—Å –∑–æ–≤—É—Ç?";
  const age = yield `–ü—Ä–∏–≤–µ—Ç, ${name}! –°–∫–æ–ª—å–∫–æ –≤–∞–º –ª–µ—Ç?`;
  yield `${name}, –≤–∞–º ${age} –ª–µ—Ç? –ö—Ä—É—Ç–æ!`;
}

const bot = chatBot();
console.log(bot.next().value);    // "–ö–∞–∫ –≤–∞—Å –∑–æ–≤—É—Ç?"
console.log(bot.next("–ê–Ω–Ω–∞").value); // "–ü—Ä–∏–≤–µ—Ç, –ê–Ω–Ω–∞! –°–∫–æ–ª—å–∫–æ –≤–∞–º –ª–µ—Ç?"
console.log(bot.next(25).value);  // "–ê–Ω–Ω–∞, –≤–∞–º 25 –ª–µ—Ç? –ö—Ä—É—Ç–æ!"
```

### 4Ô∏è‚É£¬†**–ü—Å–µ–≤–¥–æ-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏**

–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –ø–æ–∑–≤–æ–ª—è—é—Ç —Ä–∞–∑–±–∏–≤–∞—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ –Ω–∞ —á–∞—Å—Ç–∏, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ Event Loop.

**–ü—Ä–∏–º–µ—Ä:**¬†"–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π" –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä

```js
function* heavyTask() {
  const part1 = yield doWork(1000); // –ü–∞—É–∑–∞
  const part2 = yield doWork(2000); // –ü–∞—É–∑–∞
  return part1 + part2;
}

// –ò–º–∏—Ç–∞—Ü–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏
function doWork(ms) {
  return new Promise(resolve => setTimeout(() => resolve(ms), ms));
}

// –ó–∞–ø—É—Å–∫
const task = heavyTask();
task.next().value.then((result1) => {
  task.next(result1).value.then((result2) => {
    console.log(task.next(result2).value); // 3000
  });
});
```

## üîπ¬†**–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**

- **–†–∞–±–æ—Ç–∞ —Å –ø–æ—Ç–æ–∫–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö**¬†(—Ñ–∞–π–ª—ã, —Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã).
    
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤**¬†(–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –æ–±—Ö–æ–¥–∞ –¥–µ—Ä–µ–≤—å–µ–≤).
    
- **–ö–æ—Ä—É—Ç–∏–Ω—ã (—Å–æ-—Ä—É—Ç–∏–Ω—ã)**¬†‚Äî –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –∫–æ–¥–æ–º.
    
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö ID**¬†–∏–ª–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π.
    

---

## ‚ö†Ô∏è¬†**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**

- –ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å¬†`yield`¬†–≤–Ω—É—Ç—Ä–∏ —Å—Ç—Ä–µ–ª–æ—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.
    
- –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã¬†**–Ω–µ –∑–∞–º–µ–Ω—è—é—Ç Promise/async-await**¬†–¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞, –Ω–æ –º–æ–≥—É—Ç –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å—Å—è.
    

---

## üî•¬†**–í—ã–≤–æ–¥**

–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è:  
‚úî¬†**–õ–µ–Ω–∏–≤—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π**¬†(–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏).  
‚úî¬†**–†–∞–±–æ—Ç—ã —Å –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏**.  
‚úî¬†**–†–∞–∑–¥–µ–ª–µ–Ω–∏—è —Å–ª–æ–∂–Ω—ã—Ö —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á**¬†–Ω–∞ —á–∞—Å—Ç–∏.  
‚úî¬†**–°–æ–∑–¥–∞–Ω–∏—è –≥–∏–±–∫–∏—Ö –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö**.

–ò—Ö —Å—Ç–æ–∏—Ç –æ—Å–≤–æ–∏—Ç—å, –µ—Å–ª–∏ –≤—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Å –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏, –±–æ–ª—å—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏–ª–∏ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞–º–∏!