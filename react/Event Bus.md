**Event Bus**¬†‚Äî —ç—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º –æ–±–º–µ–Ω–∏–≤–∞—Ç—å—Å—è —Å–æ–±—ã—Ç–∏—è–º–∏¬†**–±–µ–∑ —è–≤–Ω–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ –ø—Ä–æ–ø—Å–æ–≤**¬†–∏ –±–µ–∑ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏.

–ö–æ–≥–¥–∞:

- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ —Å–≤—è–∑–∞–Ω—ã**¬†(–Ω–∞–ø—Ä–∏–º–µ—Ä,¬†`Header`¬†–∏¬†`Footer`).
    
- **–ì–ª—É–±–æ–∫–∞—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å**¬†(–ø—Ä–æ–±—Ä–æ—Å –ø—Ä–æ–ø—Å–æ–≤ —á–µ—Ä–µ–∑ 10 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ ‚Äî –ø–ª–æ—Ö–æ).
    
- **–ú–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ã**¬†–∏–ª–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –º–æ–¥—É–ª–∏.
    

---

## **üîß –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Event Bus**

### **1. –ü—Ä–æ—Å—Ç–µ–π—à–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–Ω–∞ JavaScript)**

```js 
class EventBus {
  constructor() {
    this.listeners = {};  // { eventName: [callbacks...] }
  }

  on(event, callback) {
    if (!this.listeners[event]) {
      this.listeners[event] = [];
    }
    this.listeners[event].push(callback);
  }

  off(event, callback) {
    if (!this.listeners[event]) return;
    this.listeners[event] = this.listeners[event].filter(
      (listener) => listener !== callback
    );
  }

  emit(event, data) {
    if (!this.listeners[event]) return;
    this.listeners[event].forEach((listener) => listener(data));
  }
}

// –°–æ–∑–¥–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä
const bus = new EventBus();
export default bus;
```

```js 
import bus from './eventBus';

function ComponentA() {
  const handleClick = () => {
    bus.emit('buttonClicked', { message: 'Hello from A!' });
  };

  return <button onClick={handleClick}>Click me</button>;
}
```


```js
import { useEffect } from 'react';
import bus from './eventBus';

function ComponentB() {
  useEffect(() => {
    const handler = (data) => {
      console.log('Event received:', data.message);
    };

    bus.on('buttonClicked', handler);
    return () => bus.off('buttonClicked', handler);  // –û—Ç–ø–∏—Å–∫–∞
  }, []);

  return <div>Listening for events...</div>;
}
```

## **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã Event Bus**

| **–°–ø–æ—Å–æ–±**              | **–ü–ª—é—Å—ã**                           | **–ú–∏–Ω—É—Å—ã**                             |
| ----------------------- | ----------------------------------- | -------------------------------------- |
| **Event Bus**           | –ü—Ä–æ—Å—Ç–æ—Ç–∞, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ | –ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, —Å–ª–æ–∂–Ω–µ–µ –¥–µ–±–∞–≥–∞—Ç—å |
| **Context API**         | –í—Å—Ç—Ä–æ–µ–Ω –≤ React                     | –ü—Ä–æ–±–ª–µ–º—ã —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π                |
| **Redux/MobX**          | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º               | –û–≤–µ—Ä–∫–∏–ª–ª –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–¥–∞—á             |
| **Custom Events (DOM)** | –ù–∞—Ç–∏–≤–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ                  | –¢–æ–ª—å–∫–æ –¥–ª—è DOM-—ç–ª–µ–º–µ–Ω—Ç–æ–≤               |

## **‚ö°Ô∏è –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**
### **1. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏**

```js
// –ì–¥–µ-—Ç–æ –≤ –∫–æ–¥–µ
bus.emit('showNotification', { text: 'Success!', type: 'success' });

// –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ Notifications
bus.on('showNotification', (data) => toast(data.text));
```
### **2. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**

```js
// –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç–µ–º—ã
bus.emit('themeChanged', { mode: 'dark' });

// –í —Ä–∞–∑–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
bus.on('themeChanged', (theme) => applyTheme(theme));
```

### **3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–∞–ª—å–Ω—ã–º–∏ –æ–∫–Ω–∞–º–∏**

```js
// –û—Ç–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª–∫—É –∏–∑ –ª—é–±–æ–≥–æ –º–µ—Å—Ç–∞
bus.emit('openModal', { id: 'user-settings' });

// –°–ª—É—à–∞–µ–º –≤ –∫–æ—Ä–Ω–µ–≤–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
bus.on('openModal', (data) => setActiveModal(data.id));
```


## **‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º—ã Event Bus**

1. **–£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏**¬†‚Äî –µ—Å–ª–∏ –Ω–µ –æ—Ç–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –æ—Ç —Å–æ–±—ã—Ç–∏–π.
    
2. **–°–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ª–∞–¥–∫–∏**¬†‚Äî —Å–æ–±—ã—Ç–∏—è ¬´–ª–µ—Ç–∞—é—Ç¬ª –ø–æ –≤—Å–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é.
    
3. **–ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –∏–º–µ–Ω**¬†‚Äî –µ—Å–ª–∏ —Å–æ–±—ã—Ç–∏—è –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ.
    

**–ö–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å:**  
‚úÖ –í—Å–µ–≥–¥–∞ –æ—Ç–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –≤¬†`useEffect`¬†(–¥–ª—è React).  
‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–µ—Ñ–∏–∫—Å—ã –¥–ª—è —Å–æ–±—ã—Ç–∏–π (`user:updated`).  
‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.

---

## **üìå –í—ã–≤–æ–¥**

- **Event Bus**¬†‚Äî —ç—Ç–æ¬†**–≥–ª–æ–±–∞–ª—å–Ω–∞—è —à–∏–Ω–∞ —Å–æ–±—ã—Ç–∏–π**¬†–¥–ª—è —Å–≤—è–∑–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.
    
- **–ü–ª—é—Å—ã:**¬†–ü—Ä–æ—Å—Ç–æ—Ç–∞, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∏–µ—Ä–∞—Ä—Ö–∏–∏.
    
- **–ú–∏–Ω—É—Å—ã:**¬†–°–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ª–∞–¥–∫–∏, —Ä–∏—Å–∫ —É—Ç–µ—á–µ–∫.
    
- **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
    
    - –î–ª—è¬†**–Ω–µ—Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**.
        
    - –í¬†**–º–∏–∫—Ä–æ—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞—Ö**.
        
    - –ï—Å–ª–∏¬†**Redux/Context ‚Äî –∏–∑–±—ã—Ç–æ—á–Ω—ã**.

```js
// –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏:
bus.emit('user:updated', { id: 123 });  // –ü—Ä–µ—Ñ–∏–∫—Å—ã –¥–ª—è –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤ –∏–º–µ–Ω
bus.on('user:updated', (user) => { ... });
```

