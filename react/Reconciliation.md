## ÔøΩ¬†**1. –ê–ª–≥–æ—Ä–∏—Ç–º Diffing: –∫–∞–∫ React —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –¥–µ—Ä–µ–≤—å—è**

**–ß—Ç–æ –≤–∞–∂–Ω–æ –∑–Ω–∞—Ç—å:**

- React –∏—Å–ø–æ–ª—å–∑—É–µ—Ç¬†**O(n)**¬†–∞–ª–≥–æ—Ä–∏—Ç–º (–∞ –Ω–µ O(n¬≥) –∫–∞–∫ —Ç–æ—á–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ)
    
- –î–≤–∞ –∫–ª—é—á–µ–≤—ã—Ö –¥–æ–ø—É—â–µ–Ω–∏—è:
    
    1. –≠–ª–µ–º–µ–Ω—Ç—ã¬†**—Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤**¬†—Å–æ–∑–¥–∞—é—Ç —Ä–∞–∑–Ω—ã–µ –¥–µ—Ä–µ–≤—å—è
        
    2. Key –ø–æ–º–æ–≥–∞—é—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –º–µ–∂–¥—É —Ä–µ–Ω–¥–µ—Ä–∞–º–∏
        

**–ü—Ä–∏–º–µ—Ä –¥–ª—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è:**


```js
// –î–æ
<div>
  <Counter />
  <p>Text</p>
</div>

// –ü–æ—Å–ª–µ
<span>
  <Counter />
  <p>Text</p>
</span>
```

üëâ¬†**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç?**  
React —É–Ω–∏—á—Ç–æ–∂–∏—Ç —Å—Ç–∞—Ä–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ (`div`¬†‚Üí¬†`span`) –∏ —Å–º–æ–Ω—Ç–∏—Ä—É–µ—Ç –Ω–æ–≤–æ–µ, –¥–∞–∂–µ –µ—Å–ª–∏ –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ—Ö–æ–∂–∏!

## ‚ö°¬†**2. –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**

### **a) –°—Ç–∞–±–∏–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**

```js
// ‚ùå –ü–ª–æ—Ö–æ (–Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ)
<Child onClick={() => handleClick(id)} />

// ‚úÖ –•–æ—Ä–æ—à–æ (—Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞)
const handleItemClick = useCallback((id) => () => handleClick(id), []);
<Child onClick={handleItemClick(id)} />
```

### **b) shouldComponentUpdate/PureComponent/memo**

```js
// –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –∫–ª–∞—Å—Å–æ–≤
class MyComp extends React.PureComponent {
  shouldComponentUpdate(nextProps) {
    // –ö–∞—Å—Ç–æ–º–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
    return this.props.value !== nextProps.value;
  }
}

// –î–ª—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
const MyComp = React.memo(({ value }) => {...}, (prev, next) => {
  return prev.value === next.value; // –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç —Ä–µ–Ω–¥–µ—Ä –µ—Å–ª–∏ true
});
```

### **c) –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–æ–≤**

```js
// react-window –¥–ª—è –æ–≥—Ä–æ–º–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤
import { FixedSizeList } from 'react-window';

<List height={600} itemCount={1000} itemSize={35}>
  {({ index, style }) => (
    <div style={style}>Row {index}</div>
  )}
</List>
```

## üõ†¬†**3. –û–ø–∞—Å–Ω—ã–µ –∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω—ã**

### **a) –ú—É—Ç–∞—Ü–∏–∏ state**

```js
// ‚ùå –ú—É—Ç–∞—Ü–∏—è –Ω–∞–ø—Ä—è–º—É—é
const [items, setItems] = useState([...]);
items.push(newItem); // –ù–µ –≤—ã–∑–æ–≤–µ—Ç —Ä–µ—Ä–µ–Ω–¥–µ—Ä
setItems(items); // React –º–æ–∂–µ—Ç –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

// ‚úÖ –ò–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
setItems(prev => [...prev, newItem]);
```

### **b) –ò–Ω–ª–∞–π–Ω-—Å—Ç–∏–ª–∏ –∏ –æ–±—ä–µ–∫—Ç—ã**

```js
// ‚ùå –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ
<div style={{ color: 'red' }} />

// ‚úÖ –í—ã–Ω–æ—Å–∏–º –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
const styles = { color: 'red' };
<div style={styles} />
```


## üîç¬†**4. –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**

### **a) –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å React DevTools**

- –í–∫–ª–∞–¥–∫–∞¬†**Profiler**¬†–¥–ª—è –∑–∞–ø–∏—Å–∏ —Ä–µ–Ω–¥–µ—Ä–æ–≤
    
- **Highlight updates**¬†–¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
    
- **–ü–ª–∞–º—è —Ä–µ–Ω–¥–µ—Ä–æ–≤**¬†–¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤—Ä–µ–º–µ–Ω–∏
    

### **b) –ó–∞–º–µ—Ä—ã –≤ production**

```js
// –í–∫–ª—é—á–∏—Ç—å –≤ production-—Å–±–æ—Ä–∫–µ
import { unstable_trace as trace } from 'scheduler/tracing';

trace('Some event', performance.now(), () => {
  setState({...});
});
```


## üí°¬†**5. –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã Reconciliation**

### **a) –ö–ª—é—á–∏ –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ä–µ–º–∞—É–Ω—Ç–∞**

```js
// –°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ userId
<UserProfile key={userId} />
```

### **b) –ü–æ—Ä—Ç–∞–ª—ã –∏ –∏—Ö –≤–ª–∏—è–Ω–∏–µ**

```js
// –ü–æ—Ä—Ç–∞–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç, –Ω–æ –º–æ–≥—É—Ç –Ω–∞—Ä—É—à–∞—Ç—å DOM-–ø–æ—Ä—è–¥–æ–∫
ReactDOM.createPortal(children, domNode)
```

### **c) Suspense –∏ –ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞**

```js
// React –º–æ–∂–µ—Ç –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å reconciliation
<Suspense fallback={<Spinner />}>
  <LazyComponent />
</Suspense>
```

## üéØ¬†**–ß—Ç–æ —Å–ø—Ä–∞—à–∏–≤–∞—é—Ç –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è—Ö:**

1. **–ö–∞–∫ React –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —á—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å?**
    
2. **–ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è Virtual DOM –æ—Ç Real DOM?**
    
3. **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç key –≤ —Å–ø–∏—Å–∫–∞—Ö?**
    
4. **–ö–∞–∫ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —á–∞—Å—Ç–æ –æ–±–Ω–æ–≤–ª—è–µ–º—ã–µ —Å–ø–∏—Å–∫–∏?**
    
5. **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç shouldComponentUpdate –∏ –∫–∞–∫ –µ–≥–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?**
    

## üìä¬†**–ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**

|–ú–µ—Ç—Ä–∏–∫–∞|–•–æ—Ä–æ—à–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ|–ü–ª–æ—Ö–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ|
|---|---|---|
|–í—Ä–µ–º—è —Ä–µ–Ω–¥–µ—Ä–∞|< 16ms|> 50ms|
|–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ–¥ DOM|< 1k|> 10k|
|–ì–ª—É–±–∏–Ω–∞ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏|< 5|> 10|

## üõ°¬†**–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞:**

1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ¬†**React.memo**¬†–¥–ª—è "–¥–æ—Ä–æ–≥–∏—Ö" –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
    
2. –ò–∑–±–µ–≥–∞–π—Ç–µ¬†**–ø—Ä–æ–ø—Å-–¥—Ä–∏–ª–ª–∏–Ω–≥–∞**¬†(–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Context/State managers)
    
3. –î–ª—è —Ñ–æ—Ä–º ‚Äî¬†**–Ω–µ—É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**¬†(uncontrolled)
    
4. –†–∞–∑–±–∏–≤–∞–π—Ç–µ –±–æ–ª—å—à–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞¬†**–º–µ–ª–∫–∏–µ –ø–æ–¥–¥–µ—Ä–µ–≤—å—è**
    

## üöÄ¬†**–í—ã–≤–æ–¥:**

–ì–ª—É–±–æ–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ Reconciliation –ø–æ–∑–≤–æ–ª—è–µ—Ç:  
‚úî –ü–∏—Å–∞—Ç—å¬†**–≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–µ**¬†–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è  
‚úî –ò–∑–±–µ–≥–∞—Ç—å¬†**–Ω–µ–Ω—É–∂–Ω—ã—Ö —Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤**  
‚úî –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ¬†**–æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å**¬†–ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏  
‚úî –î–∞–≤–∞—Ç—å¬†**–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –æ—Ç–≤–µ—Ç—ã**¬†–Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è—Ö

–û—Å–≤–æ–π—Ç–µ —ç—Ç–∏ —Ç–µ—Ö–Ω–∏–∫–∏ ‚Äî –∏ –≤–∞—à React-–∫–æ–¥ –≤—ã–π–¥–µ—Ç –Ω–∞ –Ω–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å!