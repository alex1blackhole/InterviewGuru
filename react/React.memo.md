
**React.memo**¬†‚Äî —ç—Ç–æ Higher-Order Component (HOC) –¥–ª—è –º–µ–º–æ–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:


```js
const MemoizedComponent = React.memo(Component, [arePropsEqual?]);
```

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ó–∞–ø–æ–º–∏–Ω–∞–µ—Ç**¬†—Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
    
2. **–ü—Ä–∏ –Ω–æ–≤—ã—Ö –ø—Ä–æ–ø—Å–∞—Ö**:
    
    - –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –∏—Ö —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ (–ø–æ shallow compare –∏–ª–∏ —á–µ—Ä–µ–∑ –∫–∞—Å—Ç–æ–º–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é)
        
    - –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç —Ä–µ—Ä–µ–Ω–¥–µ—Ä, –µ—Å–ª–∏ –ø—Ä–æ–ø—Å—ã –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å
        

## üí°¬†**–û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**

### 1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è "—á–∏—Å—Ç—ã—Ö" –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```js
const UserCard = ({ name, avatar }) => (
  <div>
    <img src={avatar} alt={name} />
    <h3>{name}</h3>
  </div>
);

export default React.memo(UserCard); // –†–µ–Ω–¥–µ—Ä–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø—Ä–æ–ø—Å–æ–≤
```

### 2. –° –∫–∞—Å—Ç–æ–º–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

```js
function areEqual(prevProps, nextProps) {
  // –†–µ–Ω–¥–µ—Ä–∏—Ç—å —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª—Å—è ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  return prevProps.user.id === nextProps.user.id;
}

export default React.memo(UserProfile, areEqual);
```


## üÜö¬†**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø–æ—Ö–æ–∂–∏–º–∏ —Ç–µ—Ö–Ω–∏–∫–∞–º–∏**

|–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞|React.memo|useMemo|PureComponent|
|---|---|---|---|
|**–¢–∏–ø**|HOC|–•—É–∫|–ö–ª–∞—Å—Å–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç|
|**–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç**|–í–µ—Å—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç|–û—Ç–¥–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è|shouldComponentUpdate|
|**–î–ª—è —Ñ—É–Ω–∫—Ü. –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**|–î–∞|–î–∞|–ù–µ—Ç|

## ‚ö†Ô∏è¬†**–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏**

### 1. –ë–µ—Å–ø–æ–ª–µ–∑–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å —á–∞—Å—Ç–æ –º–µ–Ω—è—é—â–∏–º–∏—Å—è –ø—Ä–æ–ø—Å–∞–º–∏


```js
// –ü–ª–æ—Ö–æ (–ø—Ä–æ–ø—Å onClick —Å–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–Ω–æ–≤–æ –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ)
const Button = React.memo(({ onClick, children }) => (
  <button onClick={onClick}>{children}</button>
));
```

**–†–µ—à–µ–Ω–∏–µ:**¬†–û–±–µ—Ä–Ω—É—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –≤ useCallback

```js
const memoizedButton = React.memo(({ onClick, children }) => (...));

function Parent() {
  const handleClick = useCallback(() => {...}, []);
  return <MemoizedButton onClick={handleClick} />;
}
```

### 2. –ú–µ–º–æ–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å children

```js
// –ü–ª–æ—Ö–æ (children –≤—Å–µ–≥–¥–∞ –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç)
const Layout = React.memo(({ children }) => (
  <div className="layout">{children}</div>
));
```

**–†–µ—à–µ–Ω–∏–µ:**¬†–õ–∏–±–æ –Ω–µ –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞—Ç—å, –ª–∏–±–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å children

### 3. –ò–∑–ª–∏—à–Ω—è—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Å—Ç—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```js
// –ü–ª–æ—Ö–æ (—Ä–µ–Ω–¥–µ—Ä –¥–µ—à–µ–≤–ª–µ, —á–µ–º —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–ø—Å–æ–≤)
const SimpleText = React.memo(({ text }) => <span>{text}</span>);
```

### 4. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–∞—Å—Ç–æ–º–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è


```js
// –û–ø–∞—Å–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ (–º–æ–∂–µ—Ç –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å –≤–∞–∂–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
const UnsafeMemo = React.memo(Component, () => true);
```

## üèÜ¬†**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**

### 1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–ª–æ–∂–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤

```js
const UserList = ({ users }) => (
  <ul>
    {users.map(user => (
      <MemoizedUserItem key={user.id} user={user} />
    ))}
  </ul>
);

const UserItem = React.memo(({ user }) => (...));
```

### 2. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å —Ç—è–∂–µ–ª—ã–º —Ä–µ–Ω–¥–µ—Ä–æ–º


```js
const HeavyChart = React.memo(({ data }) => {
  // –°–ª–æ–∂–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∏ –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ –≥—Ä–∞—Ñ–∏–∫–∞
  return <svg>...</svg>;
});
```

### 3. –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–µ –ø—Ä–æ–ø—Å—ã

```js
const ControlledInput = React.memo(({ value, onChange }) => (
  <input value={value} onChange={onChange} />
));
```

## üìä¬†**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å React.memo?**

‚úî¬†**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å —Ç—è–∂–µ–ª—ã–º —Ä–µ–Ω–¥–µ—Ä–æ–º**  
‚úî¬†**–ß–∏—Å—Ç—ã–µ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**  
‚úî¬†**–≠–ª–µ–º–µ–Ω—Ç—ã —Å–ø–∏—Å–∫–æ–≤ —Å —Å—Ç–∞–±–∏–ª—å–Ω—ã–º–∏ –ø—Ä–æ–ø—Å–∞–º–∏**  
‚úî¬†**–ö–æ–≥–¥–∞ –ø—Ä–æ–ø—Å—ã –º–µ–Ω—è—é—Ç—Å—è —Ä–µ–¥–∫–æ**

‚ùå¬†**–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è:**

- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤—Å–µ–≥–¥–∞ –ø–æ–ª—É—á–∞—é—Ç –Ω–æ–≤—ã–µ –ø—Ä–æ–ø—Å—ã
    
- –û—á–µ–Ω—å –ø—Ä–æ—Å—Ç—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
    
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å —á–∞—Å—Ç–æ –º–µ–Ω—è—é—â–∏–º–∏—Å—è children
    

## üöÄ¬†**–í—ã–≤–æ–¥**

**React.memo**¬†‚Äî –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –æ—Å–º—ã—Å–ª–µ–Ω–Ω–æ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è:

1. **–ò–∑–º–µ—Ä—è–π—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**¬†–ø–µ—Ä–µ–¥ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π
    
2. **–ö–æ–º–±–∏–Ω–∏—Ä—É–π—Ç–µ**¬†—Å useMemo/useCallback –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤
    
3. **–ò–∑–±–µ–≥–∞–π—Ç–µ**¬†–ø—Ä–µ–∂–¥–µ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Å—Ç—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```js
// –ò–¥–µ–∞–ª—å–Ω—ã–π –∫–∞–Ω–¥–∏–¥–∞—Ç –¥–ª—è React.memo
const UserProfile = React.memo(({ user }) => (
  <div>
    <Avatar url={user.avatar} />
    <UserInfo data={user.info} />
  </div>
));
```